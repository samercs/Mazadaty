@using Newtonsoft.Json
@model Mzayad.Web.Models.Order.ShippingAddressViewModel

@{
    ViewBag.Title = Global.ShippingAddress;
}

@section styles {
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css" />
    <link rel="stylesheet" href="/content/flags/flags.css" />
}
<div class="row">
    <div class="@Html.Css().FormNormal">

        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()

            <section>


                <div class="form-group">
                    @Html.LabelFor(m => m.ShippingAddress.FirstName, Global.FirstName).Required()
                    @Html.TextBoxFor(m => m.ShippingAddress.FirstName, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.ShippingAddress.FirstName, Global.FirstNameRequiredErrorMessage)
                </div>


                <div class="form-group">
                    @Html.LabelFor(m => m.ShippingAddress.LastName, Global.LastName).Required()
                    @Html.TextBoxFor(m => m.ShippingAddress.LastName, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.ShippingAddress.LastName, Global.LastNameRequiredErrorMessage)
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.ShippingAddress.Email, Global.Email).Required()
                    @Html.TextBoxFor(m => m.ShippingAddress.Email, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.ShippingAddress.Email, Global.EmailRequiredErrorMessage)
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.ShippingAddress.PhoneNumber, Global.PhoneNumber).Required()
                    <div class="form-inline">
                        @Html.TextBoxFor(m => m.PhoneNumberCountryCode, new { @class = "form-control form-control-sm", @type = "tel", maxlength = 4 })
                        @Html.TextBoxFor(m => m.PhoneNumberNumber, new { @class = "form-control", @type = "tel" })
                    </div>
                    @Html.ValidationMessageFor(m => m.ShippingAddress.PhoneNumber, Global.PhoneNumberRequiredErrorMessage)
                    <div class="checkbox">
                        <label>
                            @Html.CheckBoxFor(m => m.Order.AllowPhoneSms)
                            <small>@Global.AllowPhoneSmsLabel</small>
                        </label>
                    </div>
                </div>


            </section>

            @Html.EditorFor(m => m.AddressViewModel)

            <section class="form-buttons">
                <button type="submit" class="btn btn-default">@Global.SaveAndContinue</button>
            </section>
        }

    </div>
</div>
@section scripts {
    @Scripts.Render("~/js/jquery-ui")
    @Scripts.Render("~/js/validate")
    <script src="~/scripts/address.js"></script>
    <script type="text/javascript">

        $(function() {

            var areas =  @Html.Raw(JsonConvert.SerializeObject(Model.AddressViewModel.KuwaitAreas));
            $(".kuwait-area").autocomplete({
                source: areas
            });


        });

    </script>
}
